<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.agri.platform.mapper.FarmerMapper">
    
    <!-- 根据农场主ID查询信息 -->
    <select id="selectByFarmerId" parameterType="java.lang.Long" resultType="com.agri.platform.entity.Farmer">
        SELECT * FROM farmer WHERE farmer_id = #{farmerId}
    </select>
    
    <!-- 标准CRUD方法 -->
    <select id="selectById" parameterType="java.lang.Long" resultType="com.agri.platform.entity.Farmer">
        SELECT * FROM farmer WHERE farmer_id = #{id}
    </select>
    
    <insert id="insert" parameterType="com.agri.platform.entity.Farmer" useGeneratedKeys="true" keyProperty="farmerId">
        INSERT INTO farmer (farmer_name, phone, address, create_time, update_time)
        VALUES (#{farmerName}, #{phone}, #{address}, now(), now())
    </insert>
    
    <update id="update" parameterType="com.agri.platform.entity.Farmer">
        UPDATE farmer SET 
            farmer_name = #{farmerName},
            phone = #{phone},
            address = #{address},
            update_time = now()
        WHERE farmer_id = #{farmerId}
    </update>
    
    <delete id="deleteById" parameterType="java.lang.Long">
        DELETE FROM farmer WHERE farmer_id = #{id}
    </delete>
</mapper>