<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.agri.platform.mapper.WarningHandleRecordMapper">
    <!-- 按预警ID查询处理记录 -->
    <select id="selectByWarningId" resultType="com.agri.platform.entity.WarningHandleRecord">
        SELECT * FROM warning_handle_record WHERE warning_id = #{warningId}
    </select>

    <!-- 获取所有处理记录 -->
    <select id="selectAll" resultType="com.agri.platform.entity.WarningHandleRecord">
        SELECT * FROM warning_handle_record ORDER BY handle_time DESC
    </select>

    <!-- insert方法的实现 -->
    <!-- WarningHandleRecordMapper.xml -->
    <insert id="insert" parameterType="com.agri.platform.entity.WarningHandleRecord">
        INSERT INTO warning_handle_record (warning_id, handle_person, handle_measure, handle_time, effect_feedback)
        VALUES (#{warningId}, #{handlePerson}, #{handleMeasure}, #{handleTime}, #{effectFeedback})
    </insert>
</mapper>